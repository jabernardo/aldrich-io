{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Typed from \"typed.js\";\nimport * as Skeleton from \"../components/Skeleton\";\nimport styles from \"./ProjectCard.module.scss\";\n\nclass ProjectCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectName: props.name || \"Project\",\n      projectDescription: props.description || \"Project Description\",\n      projectLink: props.link || \"Project Link\",\n      projectVersion: props.version || \"master\",\n      projectDownload: \"\".concat(props.link, \"/archive/master.zip\"),\n      projectLanguage: props.language || \"PL\"\n    };\n  }\n\n  loadProject() {\n    fetch(\"https://api.github.com/repos/jabernardo/\" + this.state.projectName.toLocaleLowerCase() + \"/releases/latest\").then(res => {\n      if (res.status !== 200) {\n        return false;\n      }\n\n      return res.json();\n    }).then(result => {\n      if (typeof result.tag_name !== \"undefined\") {\n        this.setState({\n          projectVersion: result.tag_name,\n          projectDownload: result.zipball_url\n        });\n      }\n    }, error => {\n      console.log(\"[github-api] no releases\");\n    }).catch(err => {\n      console.log(\"[github-api] no releases\");\n    });\n  }\n\n  componentDidMount() {\n    this.loadProject();\n    this.typed = new Typed(\"#\" + this.state.projectName.replace(/[\\W]/gi, \"\"), {\n      strings: [this.state.projectName, \"@\" + this.state.projectVersion, \"written in\", this.state.projectLanguage],\n      typeSpeed: Math.random() * 10,\n      backSpeed: 0,\n      fadeOut: true,\n      loop: true,\n      startDelay: Math.random() * 1000\n    });\n  }\n\n  componentWillUnmount() {\n    this.typed.destroy();\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: styles.go_relative\n    }, __jsx(\"div\", {\n      className: styles.typed,\n      id: this.state.projectName.replace(/[\\W]/gi, \"\")\n    }, this.state.projectName), __jsx(\"p\", null, this.state.projectDescription), __jsx(\"div\", {\n      className: styles.go_bottom\n    }, __jsx(Skeleton.Button, {\n      isLink: true,\n      target: \"_blank\",\n      href: this.state.projectLink\n    }, \"View\"), __jsx(Skeleton.Button, {\n      isLink: true,\n      isPrimary: true,\n      href: this.state.projectDownload\n    }, \"Download\")));\n  }\n\n}\n\nexport default ProjectCard;","map":null,"metadata":{},"sourceType":"module"}